(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c73"],{7462:function(t,e,n){},"98c7":function(t,e,n){"use strict";var s=n("7462"),a=n.n(s);a.a},de78:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t.loading?n("div",[n("h1",{staticClass:"mdl-typography--display-1"},[t._v("Loading...")]),n("div",{staticClass:"mdl-progress mdl-js-progress mdl-progress__indeterminate"})]):t._e(),t.loading?t._e():n("div",[t.streaming?n("div",{staticClass:"mdl-grid"},[n("h1",{staticClass:"mdl-typography--display-4"},[t._v("Audio stream is live")]),t._m(1)]):t._e(),t.streaming?t._e():n("div",{staticClass:"mdl-grid"},[n("h1",{staticClass:"mdl-typography--display-4"},[t._v("Audio stream is not live")]),t._m(2)])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("audio",{attrs:{id:"audio",src:""}},[n("source")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdl-cell mdl-cell--12-col"},[n("div",{staticClass:"mdl-progress mdl-js-progress mdl-progress__indeterminate"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdl-cell mdl-cell--12-col"},[n("div",{staticClass:"mdl-progress mdl-js-progress"})])}],i=(n("7f7f"),n("cadf"),n("551c"),n("097d"),n("bc3a")),o=n.n(i),r=n("e578"),c={name:"stenographer",data:function(){return{conversation:void 0,streaming:!1,loading:!0}},methods:{getConversation:function(t){return console.log("*** Logged into app",t),t.getConversation(this.$route.params.conversation)},setConversation:function(t){var e=this;this.conversation=t,t.media.enable().then(function(t){e.conversation.media.mute(!0,!0,!1);var n=document.getElementById("audio");"srcObject"in n?n.srcObject=t:n.src=window.URL.createObjectURL(t),n.onloadedmetadata=function(){n.play(),e.loading=!1,e.streaming=!0}})},loginAndGetConversation:function(){var t=this;o.a.get("https://nexmo-emf-transcription.herokuapp.com/api/jwt/stenographer".concat(this.$route.params.id)).then(function(e){new r({debug:!1}).login(e.data.user_jwt).then(t.getConversation).then(t.setConversation)}).catch(console.error)}},mounted:function(){var t=this;this.$route.params.conversation?this.loginAndGetConversation():o.a.get("https://nexmo-emf-transcription.herokuapp.com/api/data/stages").then(function(e){t.$route.params.conversation=e.data.filter(function(e){if(e.name===t.$route.params.id)return e})[0].id}).then(this.loginAndGetConversation).catch(console.error)}},l=c,d=(n("98c7"),n("2877")),m=Object(d["a"])(l,s,a,!1,null,null,null);m.options.__file="Stenographer.vue";e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-7c73.6bf69292.js.map