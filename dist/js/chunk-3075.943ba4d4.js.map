{"version":3,"sources":["webpack:///./src/views/Stage.vue?deb6","webpack:///src/views/Stage.vue","webpack:///./src/views/Stage.vue?39fb","webpack:///./src/views/Stage.vue?bd29","webpack:///./src/views/Stage.vue?b90d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_e","_m","attrs","type","on","click","startStreaming","$event","showDialog","loading","callStats","streaming","_s","mos","_l","Object","keys","outbound_rtp_audio_0","key","outbound_rtcp_audio_0","stopStreaming","staticRenderFns","id","src","disabled","Stagevue_type_script_lang_js_","name","data","conversation","undefined","created","_this","$route","params","loginAndGetConversation","axios_default","a","get","then","response","filter","stage","catch","console","error","methods","getConversation","app","_this2","log","report","setConversation","_this3","concat","rtc","dist_default","debug","rtcstats","emit_events","login","user_jwt","_this4","media","enable","stream","document","getElementById","srcObject","window","URL","createObjectURL","onloadedmetadata","play","disable","pause","views_Stagevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Stage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-3075.943ba4d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('div',[_c('h1',{staticClass:\"mdl-typography--display-1\"},[_vm._v(\"Loading...\")]),_c('div',{staticClass:\"mdl-progress mdl-js-progress mdl-progress__indeterminate\"})]):_vm._e(),(_vm.showDialog)?_c('div',{staticClass:\"mdl-dialog\"},[_c('h4',{staticClass:\"mdl-dialog__title\"},[_vm._v(\"Something is wrong with the media stream!\")]),_vm._m(0),_c('div',{staticClass:\"mdl-dialog__actions\"},[_c('button',{staticClass:\"mdl-button close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.startStreaming}},[_vm._v(\"Restart\")]),_c('button',{staticClass:\"mdl-button close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showDialog = !_vm.showDialog}}},[_vm._v(\"Ignore\")])])]):_vm._e(),(!_vm.loading)?_c('div',{staticClass:\"audio-controls mdl-grid\"},[_vm._m(1),(_vm.callStats && _vm.streaming)?_c('div',{staticClass:\"mdl-cell mdl-cell--8-col mdl-cell--12-col-phone mdl-card mdl-shadow--2dp\"},[_c('div',{staticClass:\"'mdl-card__title mdl-card--expand\"},[_c('h2',{staticClass:\"mdl-card__title-text\"},[_vm._v(\"Audio Quality: \"+_vm._s(_vm.mos))])]),_c('div',{staticClass:\"mdl-card__supporting-text mdl-grid\"},[_c('div',{staticClass:\"mdl-cell mdl-cell--6-col mdl-cell--12-col-phone\"},[(_vm.callStats.outbound_rtp_audio_0)?_c('table',{staticClass:\"mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp\"},[_vm._m(2),_c('tbody',_vm._l((Object.keys(_vm.callStats.outbound_rtp_audio_0)),function(key){return _c('tr',{key:key},[_c('td',[_vm._v(_vm._s(key))]),_c('td',[_vm._v(_vm._s(_vm.callStats.outbound_rtp_audio_0[key]))])])}))]):_vm._e()]),_c('div',{staticClass:\"mdl-cell mdl-cell--6-col mdl-cell--12-col-phone\"},[(_vm.callStats.outbound_rtcp_audio_0)?_c('table',{staticClass:\"mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp\"},[_vm._m(3),_c('tbody',_vm._l((Object.keys(_vm.callStats.outbound_rtcp_audio_0)),function(key){return _c('tr',{key:key},[_c('td',[_vm._v(_vm._s(key))]),_c('td',[_vm._v(_vm._s(_vm.callStats.outbound_rtcp_audio_0[key]))])])}))]):_vm._e()])])]):_vm._e(),(_vm.streaming)?_c('div',{staticClass:\"mdl-cell mdl-cell--4-col mdl-cell--12-col-phone mdl-card mdl-shadow--2dp streaming\"},[_c('div',{staticClass:\"mdl-grid\"},[_c('h2',{staticClass:\"mdl-cell mdl-cell--12-col mdl-typography--display-1\"},[_vm._v(\"You're streaming live\")]),_vm._m(4),_c('div',{staticClass:\"mdl-cell mdl-cell--6-col\"},[_c('button',{staticClass:\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\",on:{\"click\":_vm.stopStreaming}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"stop\")])])])])]):_vm._e(),(!_vm.streaming)?_c('div',{staticClass:\"not-streaming mdl-cell mdl-cell--12-col mdl-cell--12-col-phone mdl-card mdl-shadow--2dp\"},[_c('div',{staticClass:\"mdl-grid\"},[_c('h2',{staticClass:\"mdl-typography--display-1 mdl-cell mdl-cell--12-col\"},[_vm._v(\"You're not streaming\")]),_c('div',{staticClass:\"mdl-cell mdl-cell--6-col\"},[_c('button',{staticClass:\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\",on:{\"click\":_vm.startStreaming}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"play_arrow\")])])]),_vm._m(5)])]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mdl-dialog__content\"},[_c('p',[_vm._v(\"\\n        Please restart media stream.\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{attrs:{\"id\":\"audio\",\"src\":\"\"}},[_c('source')])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(\"Sent\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(\"Received\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mdl-cell mdl-cell--6-col\"},[_c('button',{staticClass:\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\",attrs:{\"disabled\":\"\"}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"play_arrow\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mdl-cell mdl-cell--6-col\"},[_c('button',{staticClass:\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\",attrs:{\"disabled\":\"\"}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"stop\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"loading\">\n      <h1 class=\"mdl-typography--display-1\">Loading...</h1>\n      <div class=\"mdl-progress mdl-js-progress mdl-progress__indeterminate\"></div>\n    </div>\n    <div v-if=\"showDialog\" class=\"mdl-dialog\">\n      <h4 class=\"mdl-dialog__title\">Something is wrong with the media stream!</h4>\n      <div class=\"mdl-dialog__content\">\n        <p>\n          Please restart media stream.\n        </p>\n      </div>\n      <div class=\"mdl-dialog__actions\">\n        <button v-on:click=\"startStreaming\" type=\"button\" class=\"mdl-button close\">Restart</button>\n        <button v-on:click=\"showDialog = !showDialog\" type=\"button\" class=\"mdl-button close\">Ignore</button>\n      </div>\n    </div>\n    <div v-if=\"!loading\" class=\"audio-controls mdl-grid\">\n      <audio id=\"audio\" src=\"\">\n        <source>\n      </audio>\n      <div v-if=\"callStats && streaming\" class=\"mdl-cell mdl-cell--8-col mdl-cell--12-col-phone mdl-card mdl-shadow--2dp\">\n         <div class=\"'mdl-card__title mdl-card--expand\">\n          <h2 class=\"mdl-card__title-text\">Audio Quality: {{ mos }}</h2>\n        </div>\n        <div class=\"mdl-card__supporting-text mdl-grid\">\n          <div class=\"mdl-cell mdl-cell--6-col mdl-cell--12-col-phone\">\n            <table v-if=\"callStats.outbound_rtp_audio_0\" class=\"mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp\">\n              <thead>\n                <tr>\n                  <th></th>\n                  <th>Sent</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"key in Object.keys(callStats.outbound_rtp_audio_0)\" :key=\"key\">\n                  <td>{{key}}</td>\n                  <td>{{callStats.outbound_rtp_audio_0[key]}}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"mdl-cell mdl-cell--6-col mdl-cell--12-col-phone\">\n            <table v-if=\"callStats.outbound_rtcp_audio_0\" class=\"mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp\">\n              <thead>\n                <tr>\n                  <th></th>\n                  <th>Received</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"key in Object.keys(callStats.outbound_rtcp_audio_0)\" :key=\"key\">\n                  <td>{{key}}</td>\n                  <td>{{callStats.outbound_rtcp_audio_0[key]}}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"streaming\" class=\"mdl-cell mdl-cell--4-col mdl-cell--12-col-phone mdl-card mdl-shadow--2dp streaming\">\n        <div class=\"mdl-grid\">\n          <h2 class=\"mdl-cell mdl-cell--12-col mdl-typography--display-1\">You're streaming live</h2>\n        <div class=\"mdl-cell mdl-cell--6-col\">\n          <button class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\" disabled>\n            <i class=\"material-icons\">play_arrow</i>\n          </button>\n        </div>\n        <div class=\"mdl-cell mdl-cell--6-col\">\n          <button v-on:click=\"stopStreaming\" class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\">\n            <i class=\"material-icons\">stop</i>\n          </button>\n        </div>\n        </div>\n      </div>\n      <div v-if=\"!streaming\" class=\"not-streaming mdl-cell mdl-cell--12-col mdl-cell--12-col-phone mdl-card mdl-shadow--2dp\">\n        <div class=\"mdl-grid\">\n          <h2 class=\"mdl-typography--display-1 mdl-cell mdl-cell--12-col\">You're not streaming</h2>\n          <div class=\"mdl-cell mdl-cell--6-col\">\n            <button v-on:click=\"startStreaming\" class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\">\n              <i class=\"material-icons\">play_arrow</i>\n            </button>\n          </div>\n          <div class=\"mdl-cell mdl-cell--6-col\">\n            <button class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\" disabled>\n              <i class=\"material-icons\">stop</i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<style>\n.mdl-dialog {\n  width: 100%;\n}\n\n.mdl-progress {\n  width: 100%;\n}\n\n.audio-controls button {\n  transform: scale(4);\n  margin: 100px;\n}\n\n.audio-controls .streaming button {\n  transform: scale(2.5);\n  margin: 40px auto;\n}\n\n.audio-controls .not-streaming .mdl-grid,\n.audio-controls .streaming .mdl-grid {\n  margin-left: 0;\n  margin-right: 0;\n}\n</style>\n\n\n<script>\nimport axios from 'axios';\nimport ConversationClient from 'nexmo-stitch';\n\nexport default {\n  name: 'stage',\n  data() {\n    return {\n      conversation: undefined,\n      streaming: false,\n      showDialog: false,\n      loading: true,\n      mos: undefined,\n      callStats: undefined,\n    };\n  },\n  created() {\n    if (!this.$route.params.conversation) {\n      axios\n        .get('https://nexmo-emf-transcription.herokuapp.com/api/data/stages')\n        .then((response) => {\n          // JSON responses are automatically parsed.\n          this.$route.params.conversation = response.data.filter((stage) => {\n            if (stage.name === this.$route.params.id) return stage;\n          })[0].id;\n        })\n        .then(this.loginAndGetConversation)\n        .catch(console.error);\n    } else {\n      this.loginAndGetConversation();\n    }\n  },\n  methods: {\n    getConversation(app) {\n      console.log('*** Logged into app', app);\n\n      app.on('rtcstats:report', (mos, report) => {\n        this.mos = mos;\n        if (mos === 0) {\n          this.showDialog = true;\n        }\n        this.callStats = report;\n      });\n\n      return app.getConversation(this.$route.params.conversation);\n    },\n    setConversation(conversation) {\n      this.conversation = conversation;\n      this.loading = false;\n    },\n    loginAndGetConversation() {\n      axios\n        .get(`https://nexmo-emf-transcription.herokuapp.com/api/jwt/stage${\n          this.$route.params.id\n        }`)\n        .then((response) => {\n          // JSON responses are automatically parsed.\n          const rtc = new ConversationClient({\n            debug: false,\n            rtcstats: {\n              emit_events: true,\n            },\n          })\n            .login(response.data.user_jwt)\n            .then(this.getConversation)\n            .then(this.setConversation);\n          rtc.on('disconnect', () => {\n            console.log('disconnect');\n          });\n        })\n        .catch(console.error);\n    },\n    startStreaming() {\n      this.showDialog = false;\n      this.conversation.media.enable().then((stream) => {\n        const media = document.getElementById('audio');\n\n        // Older browsers may not have srcObject\n        if ('srcObject' in media) {\n          media.srcObject = stream;\n        } else {\n          // Avoid using this in new browsers, as it is going away.\n          media.src = window.URL.createObjectURL(stream);\n        }\n        media.onloadedmetadata = () => {\n          media.play();\n          this.streaming = true;\n        };\n      });\n    },\n    stopStreaming() {\n      this.conversation.media.disable();\n      const media = document.getElementById('audio');\n      media.pause();\n      this.streaming = false;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stage.vue?vue&type=template&id=32ff89ea&\"\nimport script from \"./Stage.vue?vue&type=script&lang=js&\"\nexport * from \"./Stage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Stage.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stage.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}